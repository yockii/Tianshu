# Tianshu (天枢)

Tianshu (天枢) 是一个用于管理和控制 DJI 无人机的平台。它使用 DJI Pilot2 与无人机进行通信。

## 功能
- **无人机管理**：管理多架无人机及其配置。
- **航线规划**：规划并执行复杂的飞行任务。
- **实时监控**：实时监控无人机状态和遥测数据。
- **用户管理**：管理平台中的用户角色和权限。
- **数据记录**：记录飞行数据以供分析和报告。
- **API 集成**：通过 RESTful API 与其他系统集成。
- **嵌入式 MQTT**：使用 MQTT 进行实时数据流和通信，无需额外部署 MQTT 代理。

## 安装
1. 安装 PostgreSQL 并创建数据库，同时安装 Redis。
2. 从 Release 页面下载最新版本。
3. 将 `config.toml.example` 复制为 `config.toml` 并进行相应配置。
4. 运行发布的二进制文件。

## 使用
### 对于站点管理员
1. 在浏览器中访问 Tianshu 服务器地址。
2. 使用管理员账号登录。

### 对于智能控制器
1. 将智能控制器连接到无人机。
2. 打开 Pilot2 并使用 DJI 账号登录。
3. 在“云服务”/“开放平台”中输入 Tianshu 服务器的 URL。
4. 点击“连接”并登录，将智能控制器与 Tianshu 平台关联。

## 当前状态与下一步

- 已完成用户认证和 Pilot2 登录集成。  
- 已实现 Pilot2 平台登录；因个人经济原因，工业级无人机硬件暂时无法获取，尚无法进行协议连接的校验，暂缓进一步开发。  
- 正在开发 Pilot2 虚拟环境以支持后续开发和测试（但与真实环境可能会存在差异）。  
- 下一步：完成虚拟环境开发后继续本项目，在硬件到位后恢复真实环境测试。

非常欢迎任何支持或赞助，以帮助获取 DJI 工业/企业级无人机进行测试。请继续关注我们的进展！